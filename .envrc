#!/usr/bin/env bash
export DIRENV_WARN_TIMEOUT=20s

# Generate .env file with default admin password if it doesn't exist
if [ ! -f .env ]; then
  echo "Creating .env file with default admin password..."
  cat > .env << 'EOF'
# Admin authentication
LOAA_ADMIN_PASSWORD=admin

# Database configuration (defaults shown)
# LOAA_DB_MODE=memory
# LOAA_DB_PATH=./data/loaa.db

# Server configuration (defaults shown)
# LOAA_HOST=127.0.0.1
# LOAA_PORT=3000

# OAuth configuration
# LOAA_BASE_URL=http://localhost:3000

# Logging
# RUST_LOG=info
EOF
  echo "âœ“ Created .env file with default admin password: admin"
fi

# Load .env file
dotenv_if_exists

eval "$(devenv direnvrc)"
use devenv
